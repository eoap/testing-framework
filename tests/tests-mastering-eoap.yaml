- id: 01_crop
  doc: "a test for the crop green step"
  tool: https://github.com/eoap/mastering-app-package/releases/download/1.1.0/app-water-bodies-cloud-native.1.1.0.cwl#crop
  job: https://github.com/eoap/testing-framework/raw/refs/heads/main/tests/inputs-01.yaml
  output:
    cropped:
      class: File
      location: Any
    
- id: 02_crop
  doc: "a test for the crop nir step"
  tool: https://github.com/eoap/mastering-app-package/releases/download/1.1.0/app-water-bodies-cloud-native.1.1.0.cwl#crop
  job: https://github.com/eoap/testing-framework/raw/refs/heads/main/tests/inputs-02.yaml
  output:
    cropped:
      class: File
      location: Any

- id: 03_normalized_difference
  doc: "a test for the normalize step"
  tool: https://github.com/eoap/mastering-app-package/releases/download/1.1.0/app-water-bodies-cloud-native.1.1.0.cwl#norm_diff
  job: https://github.com/eoap/testing-framework/raw/refs/heads/main/tests/inputs-03.yaml
  output:
    ndwi:
      class: File
      location: Any

- id: 04_otsu_threshold
  doc: "a test for the otsu threshold step"
  tool: https://github.com/eoap/mastering-app-package/releases/download/1.1.0/app-water-bodies-cloud-native.1.1.0.cwl#otsu
  job: https://github.com/eoap/testing-framework/raw/refs/heads/main/tests/inputs-04.yaml
  output:
    binary_mask_item:
      class: File
      location: Any

- id: 05_stac
  doc: "a test for the stac step"
  tool: https://github.com/eoap/mastering-app-package/releases/download/1.1.0/app-water-bodies-cloud-native.1.1.0.cwl#stac
  job: https://github.com/eoap/testing-framework/raw/refs/heads/main/tests/inputs-05.yaml
  output:
    stac_catalog:
      class: Directory
      "listing": [
            {
                "checksum": "sha1$70e96cddbb205363b4ee9cb763e438a29fd29cdc",
                "class": "File",
                "location": "catalog.json",
                "size": 363
            },
            {
                "class": "Directory",
                "listing": [
                    {
                        "checksum": "sha1$3b8c78f10f437a6fc961bc1e81691556483d9869",
                        "class": "File",
                        "location": "S2B_10TFK_20210713_0_L2A/S2B_10TFK_20210713_0_L2A.json",
                        "size": 2755
                    },
                    {
                        "checksum": "sha1$e5ad8945b7933ea08130eb0a2c568423bd09fdc9",
                        "class": "File",
                        "location": "S2B_10TFK_20210713_0_L2A/otsu.tif",
                        "size": 6918
                    }
                ]
            }
        ]